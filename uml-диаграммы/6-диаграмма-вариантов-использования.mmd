```mermaid
graph LR
    User[Пользователь]

    subgraph Auth["Аутентификация и авторизация"]
        UC1[Зарегистрироваться]
        UC2[Войти в систему]
        UC3[Выйти из системы]
        UC4[Просмотреть профиль]
    end

    subgraph Files["Управление файлами"]
        UC5[Загрузить файл]
        UC6[Просмотреть список файлов]
        UC7[Просмотреть файл]
        UC8[Скачать файл]
        UC9[Удалить файл в корзину]
        UC10[Восстановить файл из корзины]
        UC11[Окончательно удалить файл]
    end

    subgraph Organization["Организация файлов"]
        UC12[Добавить файл в избранное]
        UC13[Удалить из избранного]
        UC14[Просмотреть избранные файлы]
        UC15[Фильтровать файлы по типу]
        UC16[Поиск файлов]
    end

    subgraph Categories["Просмотр по категориям"]
        UC17[Просмотреть фотографии]
        UC18[Просмотреть документы]
        UC19[Просмотреть видео]
        UC20[Просмотреть аудио]
        UC21[Просмотреть архивы]
    end

    subgraph Trash["Корзина"]
        UC22[Просмотреть корзину]
        UC23[Очистить корзину]
    end

    subgraph Stats["Статистика"]
        UC24[Просмотреть статистику]
    end

    %% Связи пользователя
    User --> UC1
    User --> UC2
    User --> UC3
    User --> UC4
    User --> UC5
    User --> UC6
    User --> UC7
    User --> UC8
    User --> UC9
    User --> UC10
    User --> UC11
    User --> UC12
    User --> UC13
    User --> UC14
    User --> UC15
    User --> UC16
    User --> UC17
    User --> UC18
    User --> UC19
    User --> UC20
    User --> UC21
    User --> UC22
    User --> UC23
    User --> UC24

    %% Включения (include)
    UC5 -.->|требуется авторизация| UC2
    UC6 -.->|требуется авторизация| UC2
    UC7 -.->|требуется авторизация| UC2
    UC8 -.->|требуется авторизация| UC2
    UC9 -.->|требуется авторизация| UC2
    UC10 -.->|требуется авторизация| UC2
    UC11 -.->|требуется авторизация| UC2
    UC12 -.->|требуется авторизация| UC2
    UC13 -.->|требуется авторизация| UC2
    UC14 -.->|требуется авторизация| UC2
    UC15 -.->|требуется авторизация| UC2
    UC16 -.->|требуется авторизация| UC2
    UC17 -.->|требуется авторизация| UC2
    UC18 -.->|требуется авторизация| UC2
    UC19 -.->|требуется авторизация| UC2
    UC20 -.->|требуется авторизация| UC2
    UC21 -.->|требуется авторизация| UC2
    UC22 -.->|требуется авторизация| UC2
    UC23 -.->|требуется авторизация| UC2
    UC24 -.->|требуется авторизация| UC2
    UC4 -.->|требуется авторизация| UC2

    %% Расширения (extend)
    UC2 -.->|если не зарегистрирован| UC1
    UC12 -.->|переключение статуса| UC13
    UC9 -.->|после удаления| UC22
    UC10 -.->|из корзины| UC22
    UC17 -.->|фильтр по типу| UC15
    UC18 -.->|фильтр по типу| UC15
    UC19 -.->|фильтр по типу| UC15
    UC20 -.->|фильтр по типу| UC15
    UC21 -.->|фильтр по типу| UC15

    style User fill:#ffeb3b
    style Auth fill:#e3f2fd
    style Files fill:#e8f5e9
    style Organization fill:#fff3e0
    style Categories fill:#f3e5f5
    style Trash fill:#ffebee
    style Stats fill:#e0f2f1
```
