graph TB
    User[Пользователь]

    subgraph Auth["Аутентификация и авторизация"]
        UC1[Зарегистрироваться]
        UC2[Войти в систему]
        UC3[Выйти из системы]
        UC4[Просмотреть профиль]
    end

    subgraph Files["Управление файлами"]
        UC5[Загрузить файл]
        UC6[Просмотреть список файлов]
        UC7[Просмотреть файл]
        UC8[Скачать файл]
        UC9[Удалить файл в корзину]
        UC10[Восстановить файл из корзины]
    end

    subgraph Organization["Организация файлов"]
        UC11[Добавить файл в избранное]
        UC12[Удалить из избранного]
        UC13[Просмотреть избранные файлы]
        UC14[Фильтровать файлы по типу]
        UC15[Поиск файлов]
    end

    subgraph Categories["Просмотр по категориям"]
        UC16[Просмотреть фотографии]
        UC17[Просмотреть документы]
        UC18[Просмотреть видео]
        UC19[Просмотреть аудио]
        UC20[Просмотреть архивы]
    end

    subgraph Trash["Корзина"]
        UC21[Просмотреть корзину]
        UC22[Очистить корзину]
    end

    subgraph Stats["Статистика"]
        UC23[Просмотреть статистику]
    end

    %% Связи пользователя с вариантами использования
    User --> UC1
    User --> UC2
    User --> UC3
    User --> UC4
    User --> UC5
    User --> UC6
    User --> UC7
    User --> UC8
    User --> UC9
    User --> UC10
    User --> UC11
    User --> UC12
    User --> UC13
    User --> UC14
    User --> UC15
    User --> UC16
    User --> UC17
    User --> UC18
    User --> UC19
    User --> UC20
    User --> UC21
    User --> UC22
    User --> UC23

    %% Включения - большинство операций требуют авторизации
    UC4 -.->|<<include>>| UC2
    UC5 -.->|<<include>>| UC2
    UC6 -.->|<<include>>| UC2
    UC7 -.->|<<include>>| UC2
    UC8 -.->|<<include>>| UC2
    UC9 -.->|<<include>>| UC2
    UC10 -.->|<<include>>| UC2
    UC11 -.->|<<include>>| UC2
    UC12 -.->|<<include>>| UC2
    UC13 -.->|<<include>>| UC2
    UC14 -.->|<<include>>| UC2
    UC15 -.->|<<include>>| UC2
    UC16 -.->|<<include>>| UC2
    UC17 -.->|<<include>>| UC2
    UC18 -.->|<<include>>| UC2
    UC19 -.->|<<include>>| UC2
    UC20 -.->|<<include>>| UC2
    UC21 -.->|<<include>>| UC2
    UC22 -.->|<<include>>| UC2
    UC23 -.->|<<include>>| UC2

    %% Расширения
    UC2 -.->|<<extend>>| UC1
    UC9 -.->|<<extend>>| UC21
    UC10 -.->|<<extend>>| UC21
    UC11 -.->|<<extend>>| UC12
    UC16 -.->|<<extend>>| UC14
    UC17 -.->|<<extend>>| UC14
    UC18 -.->|<<extend>>| UC14
    UC19 -.->|<<extend>>| UC14
    UC20 -.->|<<extend>>| UC14
